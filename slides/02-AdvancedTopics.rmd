---
title: "Advanced Research Tools for Economics and Business Administration (Part II)"
author: "Thomas de Graaff"
date: "February 3, 2016"
output:
  beamer_presentation:
    colortheme: beaver
    fig_height: 5
    fig_width: 8
    fonttheme: structurebold
    keep_tex: yes
    slide_level: 2
    theme: Darmstadt
    includes:
      in_header: mystyles.sty    
  ioslides_presentation:
    fig.align: center
    fig_height: 6
    fig_width: 10
    widescreen: yes
  revealjs_presentation:
    mathjax: default
    pandoc_args:
    - --css
    - fig/journal.css
    transition: linear
---

# Where are we

### Inserting figures

```
\usepackage{graphicx}

\includegraphics{../Figs/home_stalin_poster}
```

Better is to include them in a floating environment (this is where typically the problem starts)

```
\begin{figure}[htb!]
    \includegraphics[width = 1.0\textwidth]
    {../Figs/home_stalin_poster}
    \caption{Next slide please!}
\end{figure}
```

### Inserting tables

- Within a table environment and most basic with tabubar, so:

```
\begin{table}[h!]
    \caption{Who is afraid of ...}
    \label{tab:colors}
    \begin{tabular}{ccc} 
        \hline
            1   & 2      & 3 \\ 
        \hline
            red & yellow & blue 
        \hline
    \begin{tabular}
\end{table}
```

## Previous tutorial

Still somewhat more theoretical (why do you want to change tools)

- Importance of writing things down (reproducability)
- Text files are the bomb:

    - scriptable
    - input and output in/for other applications
    
- pros and cons of \LaTeX

- Why bother with learning \LaTeX\?

    - for dead threes (aka paper)
    - html (cloud) uses \LaTeX\ syntax as well for formula's and graph annotation

## A quick recap

- Specific \LaTeX\ commands starts with an \\
    - `\LaTeX`

- Inline equations are within \$ \$ 
    - `$\frac{a}{b}$ is the fraction between $a$ and $b$`

- There are a number of symbols that you cannot immediately use:
    - \\, \$, \&, \%, \{ and \} are the most important (solution: start with an `\`)
    
- Environments start and end
```latex
\begin{equation} 
    a^2 + b^2 = c^2 
\end{equation}
```
    
## General structure

```latex    
\documentclass[twocolumn, a4paper]{article}

% Preamble: how should it look like
\usepackage{multicol, lipsum}
\usepackage[english, german]{babel}

\begin{document}
    % Body: the real contents
    \lipsum
\end{document}
```

## This tutorial

More practical, play around with \LaTeX. In specific:

- packages (make things look better)
- figures (usually import them, but sometimeS make them yourself)
- tables (import them!)
- slides (just copy & paste from `.tex` document)

# Making appearances

## The use of packages

- Typically, packages are used to change appearance

- To ensure no errors, usually opt for the full installation or have access to internet

- There are lots of them, see [CTAN](http://www.ctan.org)

- Often used packages
    - amsmath, graphicx, subfig, marvosym, microtype, booktabs, lipsum, pdflscape, fullpage

- format:
```latex 
\usepackage[colorlinks=true,citecolor=magenta,
            urlcolor=magenta]{hyperref} 
```

## The use of classes

- Typically one uses the ```article``` class

- However, there is as well a  ```book```, ```mininal```, ```report```, ```beamer``` class etcetera

- Specific user written classes are `memoir` and `elsarticle` classes

- Classes come with options such as 
```latex
\documentclass[12pt, a4paper]{article}
```

## Bibliopgraphy

Default format is `BibTeX`
    - customizable (however limited)
    - defaults is good

If you want to customize quite a lot: `biblatex-biber` combination
    - usage
```latex
    \usepackage[backend=biber]{biblatex}
```
## or go nuts

```latex
\usepackage[style= authoryear-icomp, 
            backend=bibtex,
            natbib=true, 
            firstinits=true, 
            uniquename=true,
            backref=false,
            doi=false,
            isbn=false,
            url=false,
            maxnames=2, 
            maxbibnames=10, 
            dashed =true, 
            backend=biber]
            {biblatex}
```

# Better graphs

## Import them

Remember figures/graphs and tables in a floating environment
```latex
\begin{figure}[h!] 
    \center 
	    \includegraphics{ligatures_latex} 
    \caption{...} 
	\label{ligatures}
\end{figure}
```
- `\ref{ligatures}` gives you now the correct internal reference
- How to make pictures then:
    - In the statistical environment you are working in
    - plotly

## Making them yourself in \LaTeX\ (advanced)

PGF/TikZ combination for producing vector graphics

```latex
\begin{tikzpicture}
    \begin{axis}[
		xlabel=$x$,
		ylabel={$f(x) = x^2 - x +4$}
	]
	% use TeX as calculator:
	\addplot {x^2 - x +4};
	\end{axis}
\end{tikzpicture}
```

## Which results in 

\begin{tikzpicture}
    \begin{axis}[
    	xlabel=$x$,
		ylabel={$f(x) = x^2 - x +4$}
	]
	% use TeX as calculator:
	\addplot {x^2 - x +4};
	\end{axis}
\end{tikzpicture}

# Better tables

## Some guidelines

- No vertical lines!

- small spaces are usually better than horizontal lines

- Booktabs is a nice package
```latex
\toprule
\midrule
\addlinespace
\bottomrule
```

- Only include stuff that is important

## This does not look nice!

\tiny

```latex
\begin{table}[htbp]\centering
\def\sym#1{\ifmmode^{#1}\else\(^{#1}\)\fi}
\caption{Dep = Milles per Gallon}
\begin{tabular}{l*{2}{D{.}{.}{-1}}}
\toprule
                    &\multicolumn{1}{c}{(1)}&\multicolumn{1}{c}{(2)}\\
                    &\multicolumn{1}{c}{Mileage (mpg)}&\multicolumn{1}{c}{Mileage (mpg)}\\
\midrule
Car type            &     -1.6500  &     -2.2035* \\
                    &    (1.0760)  &    (1.0592)  \\
Weight (lbs.)       &     -0.0066**&     -0.0166**\\
                    &    (0.0006)  &    (0.0040)  \\
weight\_sqr          &              &      0.0000* \\
                    &              &    (0.0000)  \\
Constant            &     41.6797**&     56.5388**\\
                    &    (2.1655)  &    (6.1974)  \\
\midrule
Observations        &          74  &          74  \\
\(R^{2}\)           &       0.663  &       0.691  \\
F                   &     69.7485  &     52.2515  \\
\bottomrule
\multicolumn{3}{l}{\footnotesize Standard errors in parentheses}\\
\multicolumn{3}{l}{\footnotesize + \(p<0.1\), * \(p<0.05\), ** \(p<0.01\)}\\
\end{tabular}
\end{table}
```

## So import stuff (stata do-file example) !

\small

```r
sysuse auto                             # load car data set
regress mpg foreign weight               # first regression
eststo linear                      # store first regression
gen weight_sqr = weight*weight             # Quadratic term
regress mpg foreign weight weight_sqr      # 2nd regression
eststo quadratic                  # store second regression
esttab linear quadratic ///          # write to output file
	using "${outputfiles}Results.tex", ///
	star(+ 0.1 * 0.05 ** 0.01) replace b(%9.4f) ///
	se r2 scalars("F") label keep ($covariates) ///
    title("Dep = Milles per Gallon") ///
	booktabs alignment(D{.}{.}{-1}) nogaps
```

# Making slides

## Pros and cons

- Cons:

    - Not as quick out of the box as PowerPoint (powerphluff)
    - Typically beamer package which makes all things look alike
        - Enforces some things (e.g., limited space for tables)

- Pros: 

    - Once created, similar on all versions/operating machines
    - You need to spend more time thinking
    - Better `.pdf` handling
    - Reuse of equations or code in general
    - There is a kind of a philosophy behind it

> [The Cognitive Style of PowerPoint](http://users.ha.uth.gr/tgd/pt0501/09/Tufte.pdf) (Edward Tufte)


## Using beamer package

```latex
\documentclass{beamer}           % new document class
    \usetheme{Darmstadt}                % new lay-out
    \usecolortheme{beaver}         % new color scheme
    \begin{document}           % begin document again
       % usually frames start with begin/end , except
    \frame{\titlepage} 
          % Use section and subsection for slide menu
    \section{Where are we}\label{where-are-we} 
                              % Frame and frame title
    \begin{frame}{Previous tutorial}
        Still somewhat more theoretical ...
        $a^2 + b^2 = c^2$        % formula if you want
    \end{frame}
    \end{document}             % always end a document
```

## In conclusion

- This tutorial is more a showcase

- Pick out the stuff you appreciate most
    - there is solution for almost everything
    - but it requires time investment
    - which only later will pay-off

- As things now develop there will be
    - more ephasis on internet/blogging publishing (slightly more advance than Facebook but on the same par as Wordpress)
        - including data and figures (dynamic infographics)
        - minor role for \LaTeX\ 
    - For dead trees: \LaTeX\ is still the best when editing/writing complex documents
